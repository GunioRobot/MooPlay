<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>index</title>
	<script src="mootools-1.2.3-core-nc.js" type="text/javascript" charset="utf-8"></script>
	<script src="Source/VideoPlayer.js" type="text/javascript" charset="utf-8"></script>
	<link rel="stylesheet" href="test.css" type="text/css" media="screen" title="no title" charset="utf-8">
</head>


<body>
    
<ul>
    <li><a href="#" id="load">load subtitle</a></li>
    <li><a href="#" id="play">play video</a></li>
    <li><a href="#" id="pause">pause video</a></li>
</ul>



<div style="border:1px solid #000; width:400px; height:300px;">
    <div style="position:relative;">
        <video id="video" src="rashomon.ogv" autobuffer="true" style="width:400px;height:300px;position:absolute;top:0;z-index:1"></video>
        <div id="subtitle" style="border:1px solid #000; width:400px;height:300px;position:absolute;top:0;z-index:2"></div>
        <div style="clear:both;"></div>
    </div>
    <div style="clear:both;"></div>
</div>
<div style="clear:both;"></div>





<div id="time" style="border:1px solid #000; width:400px; height: 50px">
</div>


<script>

document.addEvent('domready', function() {
    
    var reader = null;

    $('load').addEvent('click', function(e) {
        e.preventDefault();
        new Video.SubTitle.Parser.SubRip({
            url: 'rashomon.srt',
            srt_end_of_line: '\r\n',
            onComplete: function(data) {
                reader = new Video.SubTitle.Player(data, $('video'), {
                    container: 'subtitle',
                    time_container: 'time'
                });
            }
        });
    });
    
    $('play').addEvent('click', function(e) {
        e.preventDefault();
        $('video').play();
    });
    
    $('pause').addEvent('click', function(e) {
        e.preventDefault();
        $('video').pause();
    })
    
    
 
})
</script>

</body>
</html>
